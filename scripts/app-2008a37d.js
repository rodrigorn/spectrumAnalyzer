"use strict";angular.module("spectrumAnalyzer",["ngTouch","ngSanitize","ui.router","ui.bootstrap"]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl",controllerAs:"mainCtrl"}),t.otherwise("/")}]),function(){function e(){function e(){function e(){a=requestAnimationFrame(e),n.getByteTimeDomainData(c),o.fillStyle="rgb(200, 200, 200)",o.fillRect(0,0,t,i),o.lineWidth=2,o.strokeStyle="rgb(0, 0, 0)",o.beginPath();for(var s=1*t/l,u=0,d=0;l>d;d++){var v=c[d]/128,m=v*i/2;0===d?o.moveTo(u,m):o.lineTo(u,m),u+=s}o.lineTo(r.width,r.height/2),o.stroke()}var t=r.width,i=r.height;n.fftSize=4096;var l=n.fftSize,c=new Uint8Array(l);n.getByteTimeDomainData(c),o.clearRect(0,0,t,i),e()}navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;var t,a,i=new(window.AudioContext||window.webkitAudioContext),n=i.createAnalyser(),r=document.querySelector(".visualizer"),o=r.getContext("2d");navigator.getUserMedia({audio:!0},function(a){console.log(a),t=i.createMediaStreamSource(a),t.connect(n),e()},function(e){console.log(e)})}angular.module("spectrumAnalyzer").service("mic",e)}(),function(){function e(){}angular.module("spectrumAnalyzer").controller("MainCtrl",e),e.$inject=["mic"]}(),angular.module("spectreAnalizer").run(["$templateCache",function(e){e.put("app/main/main.html",'<nav class="navbar"><div class="container"><div class="navbar-header"><a sref="home">spectrumAnalyzer</a></div></div></nav><div class="container"><div class="row"><div class="col-xs-12"><canvas class="visualizer"></canvas></div></div></div>')}]);